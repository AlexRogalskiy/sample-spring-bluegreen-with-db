

For Windows, all minikube and kubectl commands should be run in an Administrator CMD shell.

(doskey k=kubectl $*)


minikube config set driver hyperv (Windows only. Had bad luck with new default of Docker)
minikube start
minikube dashboard (new cmd)

install Istio

istioctl install (https://istio.io/latest/docs/setup/install/istioctl/)


postgres


kubectl delete -f postgresql-deployment.yaml (if exists)
kubectl create -f postgresql-deployment.yaml 


liquibase container


docker build -t liquibase/bg-k8s-liquibase .
docker push liquibase/bg-k8s-liquibase

liquibase config maps and jobs

(config map is the changelog)
kubectl delete -f liquibase-cm-v1.yaml (if exists)
kubectl create -f liquibase-cm-v1.yaml


(job runs liquibase with the config map)

kubectl delete -f liquibase-job-v1.yaml (if exists)
kubectl create -f liquibase-job-v1.yaml